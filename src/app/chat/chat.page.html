<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Chat</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-grid>
        <ion-row *ngFor="let message of messages">
            
            <ion-col class="message other-message" size="9" *ngIf="currentUser !== message.user">
                <b> {{ message.user }} </b>
                <br>
                <span> {{ message.msg }} </span>
                <div class="time ion-text-right">
                    <br>
                    {{ message.createdAt | date:'short' }}
                </div>
            </ion-col>

            <ion-col class="message my-message" offset="3" size="9" *ngIf="currentUser === message.user">
                <b> {{ message.user }} </b>
                <br>
                <span> {{ message.msg }} </span>
                <div class="time ion-text-right">
                    <br>
                    {{ message.createdAt | date:'short' }}
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>

<ion-footer>
    <ion-toolbar color="light">
        <ion-row align-items-center no-padding>
            <ion-col size="10">
                <textarea autosize maxRows="4" [(ngModel)]="newMsg" class="message-input"></textarea>
            </ion-col>
            <ion-col size="2">
                <ion-button expand="block" fill="clear" color="primary" 
                [disabled]="newMsg === ''" class="msg-btn" (click)="sendMessage()">
                <ion-icon name="ios-send" slot="icon-only"></ion-icon>
            </ion-button>
            </ion-col>
        </ion-row>
    </ion-toolbar>
</ion-footer>